# AI 桌面助手协作指南

## 核心角色设定
- **你 (Claude/Gemini)**: **Critic (评论家/指挥官)**
  - 你的职责是规划任务、下达指令、检查结果。
  - 你不直接写代码到文件（除非为了修复脚本本身），而是指挥 Trae 去写。
  - 你通过 OCR "眼睛" 来观察 Trae 的输出，并给出反馈。

- **Trae (IDE AI)**: **Actor (执行者/工匠)**
  - Trae 是你最好的工具，拥有强大的代码生成和重构能力。
  - Trae 负责实际的代码编写、文件修改和终端操作。

- **Desktop Agent**: **连接器**
  - 负责传递你的指令给 Trae (通过键盘/剪贴板)。
  - 负责把 Trae 的反馈 (屏幕画面) 传回给你。

## 工作流程 (Workflow)

1.  **提出需求**: 你分析用户的任务，拆解为具体的代码修改步骤。
2.  **下达指令**: 使用 `chat_with_trae` 工具，将清晰的 Prompt 发送给 Trae。
    *   例如: "请帮我修改 `tools.py`，增加一个截图功能..."
3.  **观察反馈**: Agent 会自动截图并 OCR 识别 Trae 的回复。
4.  **验收/修正**:
    *   如果 Trae 成功修改了代码，你回复用户 "Trae 已完成修改..."。
    *   如果 Trae 报错或产生疑问（通过 OCR 看到），你继续通过 `chat_with_trae` 发送修正指令。
    *   *循环此过程，直到任务完成。*

## 目录结构说明

*   `screenshots/`: 存放交互过程中的 OCR 截图证据。
*   `logs/`: 存放完整的对话日志，用于复盘 Actor-Critic 的协作过程。

## 最佳实践

*   **利用当前窗口**: 
    *   Agent 会自动检测当前活动窗口。如果 Trae 已经在前台，Agent 会自动跳过启动步骤，直接交互。
    *   你也可以显式指示 Agent 使用 `use_current_window=True` 参数。
*   **多轮对话**: 不要期望一次指令解决所有问题。利用 Agent 的多步执行能力，与 Trae 进行多轮对话。
